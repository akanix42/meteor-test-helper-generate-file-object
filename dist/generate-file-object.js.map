{"version":3,"sources":["generate-file-object.js"],"names":["generateFileObject","generatePreprocessedFileObject","filePath","rawContents","packageName","file","fileOptions","referencedImportPaths","arch","getPackageName","getPathInPackage","getBasename","basename","getExtension","extname","getFileOptions","getContentsAsString","getArch","importPath","contents"],"mappings":";;;;;kBAGwBA,kB;QAqCRC,8B,GAAAA,8B;;AAxChB;;;;AACA;;;;;;AAEe,SAASD,kBAAT,CAA4BE,QAA5B,EAAsCC,WAAtC,EAAuE;AAAA,MAApBC,WAAoB,uEAAN,IAAM;;AACpF,MAAMC,OAAO;AACXC,iBAAa,EADF;AAEXH,4BAFW;AAGXI,2BAAuB,EAHZ;AAIXC,UAAM,KAJK;AAKXC,kBALW,4BAKM;AACf,aAAOL,WAAP;AACD,KAPU;AAQXM,oBARW,8BAQQ;AACjB,aAAOR,QAAP;AACD,KAVU;AAWXS,eAXW,yBAWG;AACZ,aAAO,eAAKC,QAAL,CAAcV,QAAd,CAAP;AACD,KAbU;AAcXW,gBAdW,0BAcI;AACb,aAAO,eAAKC,OAAL,CAAaZ,QAAb,CAAP;AACD;AAhBU,GAAb;;AAmBAG,OAAKU,cAAL,GAAsB,YAAW;AAC/B,WAAOV,KAAKC,WAAZ;AACD,GAFD;;AAIAD,OAAKW,mBAAL,GAA2B,YAAW;AACpC,WAAOX,KAAKF,WAAZ;AACD,GAFD;;AAIAE,OAAKY,OAAL,GAAe,YAAW;AACxB,WAAOZ,KAAKG,IAAZ;AACD,GAFD;;AAIAH,OAAKa,UAAL,GAAkB,6CAAYR,gBAAZ,CAA6BL,IAA7B,CAAlB;;AAEA,SAAOA,IAAP;AACD;;AAEM,SAASJ,8BAAT,CAAwCC,QAAxC,EAAkDC,WAAlD,EAAmF;AAAA,MAApBC,WAAoB,uEAAN,IAAM;;AACxF,MAAMC,OAAOL,mBAAmBE,QAAnB,EAA6BC,WAA7B,EAA0CC,cAAc,IAAxD,CAAb;AACAC,OAAKc,QAAL,GAAgBd,KAAKF,WAArB;AACA,SAAOE,IAAP;AACD","file":"generate-file-object.js","sourcesContent":["import PathHelpers from 'meteor-build-plugin-helper-path-helpers';\r\nimport path from 'path';\r\n\r\nexport default function generateFileObject(filePath, rawContents, packageName = null) {\r\n  const file = {\r\n    fileOptions: {},\r\n    rawContents,\r\n    referencedImportPaths: [],\r\n    arch: 'web',\r\n    getPackageName() {\r\n      return packageName;\r\n    },\r\n    getPathInPackage() {\r\n      return filePath;\r\n    },\r\n    getBasename() {\r\n      return path.basename(filePath);\r\n    },\r\n    getExtension() {\r\n      return path.extname(filePath);\r\n    }\r\n  };\r\n\r\n  file.getFileOptions = function() {\r\n    return file.fileOptions;\r\n  };\r\n\r\n  file.getContentsAsString = function() {\r\n    return file.rawContents;\r\n  };\r\n\r\n  file.getArch = function() {\r\n    return file.arch;\r\n  };\r\n\r\n  file.importPath = PathHelpers.getPathInPackage(file);\r\n\r\n  return file;\r\n}\r\n\r\nexport function generatePreprocessedFileObject(filePath, rawContents, packageName = null) {\r\n  const file = generateFileObject(filePath, rawContents, packageName = null);\r\n  file.contents = file.rawContents;\r\n  return file;\r\n}\r\n"]}